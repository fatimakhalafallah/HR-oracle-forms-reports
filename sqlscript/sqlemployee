
CREATE TABLE EMPLOYEES ( 
  DOC_NO                       VARCHAR2 (60), 
  EMPLOYEE_NO                  NUMBER (8)    NOT NULL, 
  EMPLOYEE_NAME                VARCHAR2 (80)  NOT NULL, 
  GENDER                       VARCHAR2 (1), 
  BIRTH_DATE                   DATE, 
  PLACE_OF_ORIGIN_OF_EMPLOYEE  NVARCHAR2 (160), 
  HOUSE_NO                     VARCHAR2 (40), 
  EMP_LOC                      NUMBER (3), 
  DATE_OF_JOIN                 DATE, 
  OEPA_APPROVAL_DATE           DATE, 
  DATE_OF_END                  DATE, 
  DOC_TYPE                     VARCHAR2 (30), 
  REMARK                       NVARCHAR2 (600), 
  BANK_ACCOUNT_NO              VARCHAR2 (20), 
  GROSS_SALARY                 NUMBER (12,2), 
  RELEGIOUS                    VARCHAR2 (20), 
  EMPLOYMENT_PLACE             VARCHAR2 (2), 
  MARITAL_STATUS               VARCHAR2 (2), 
  SAL_RATE                     NUMBER (6,2), 
  CURRENCY_NO                  NUMBER (2), 
  CONTACT_ADDRESS              NVARCHAR2 (600), 
  CONTACT_PHONES               VARCHAR2 (100), 
  DEPT_DEPARTMRNT_NO           NUMBER (4), 
  COU_COUNTRY_NO               NUMBER (3), 
  POSITION_POSITION_NO         NUMBER (4), 
  CAT_CATEGORY_NO              NUMBER (2), 
  GRADES_GRADE_NO              NUMBER (3), 
  JOB_NO                       NUMBER (3), 
  SECTION_NO                   NUMBER (3), 
  LC_COMPANY_NO                NUMBER (5), 
  HIRE_TYPE                    NUMBER (2), 
  BANK_NO                      NUMBER (3), 
  EMAIL                        VARCHAR2 (50), 
  EMPLOYEE_STATUS              NUMBER (1)    DEFAULT 1, 
  TAX_FREE                     NUMBER (1), 
  SOCIAL_FREE                  NUMBER (1), 
  PREVIOUS_EXPERIENCE          NUMBER (10,2) DEFAULT 0, 
  CONTRACT_STATUS              VARCHAR2 (1), 
  BANK_BRANCH_NO               NUMBER (5), 
  MERIT_RATE                   NUMBER (4,2), 
  DIRECT_NO                    NUMBER (6)    DEFAULT 0, 
  DIVISION_NO                  NUMBER, 
  MNGR_ID                      NUMBER (8), 
  EMP_ACTING_ID                NUMBER (8), 
  CREATED_USER                 NUMBER (5), 
  CREATED_DATE                 DATE, 
  MODIFIED_USER                NUMBER (5), 
  MODIFIED_DATE                DATE, 
  ON_PAYROLL                   NUMBER (1)    DEFAULT 0, 
  GROSS_COMP                   NUMBER (14,2) DEFAULT 0, 
  PAY_PAYROLL_SHEET_ID         NUMBER, 
  NAME1                        NCHAR (140)   DEFAULT 1, 
  SOCIAL_NO                    NUMBER (10), 
  PAY_CURR                     NUMBER (2)    DEFAULT 1, 
  EMPLOYEE_NAME_ARA            NVARCHAR2 (140), 
  ID_CARD                      VARCHAR2 (30), 
  ACC_NO                       VARCHAR2 (20), 
  CONTRACT_TYPE                NUMBER (3), 
  JOB_TY_NO                    NUMBER (3), 
  LEAVE_CAT                    NUMBER (3), 
  ALERT_DATE                   DATE, 
  CONS_ALERT_DATE              DATE, 
  CARD_STATUS                  NUMBER, 
  CARD_ISSUE_DATE              DATE          DEFAULT '31-dec-2018', 
  CARD_EXPIRE_DATE             DATE          DEFAULT '31-dec-2018', 
  GROSS_ADJ                    NUMBER, 
  TRANSFORMATION_DATE          DATE, 
  A_LOCATION                   NUMBER, 
  APPOINTMENT_MAN_APPROVE      NUMBER (10), 
  APPOINTMENT_SNRMAN_APPROVE   NUMBER (10), 
  SNRMAN_APPROVE_DATE          DATE, 
  MAN_APPROVE_DATE             DATE, 
  EMP_RESET                    NUMBER (2), 
  APPOINTMENT_APPROVE          NUMBER (2), 
  CONSTRAINT EMP_PK
  PRIMARY KEY ( EMPLOYEE_NO ) ) ; 

COMMENT ON COLUMN EMPLOYEES.GENDER IS 'M ,F';
COMMENT ON COLUMN EMPLOYEES.HOUSE_NO IS 'K,F';

CREATE TABLE EMPLOYEE_EDUCATION ( 
  EMPLOYEE_NO    NUMBER (8)    NOT NULL, 
  EDU_SERIAL     NUMBER (2)    NOT NULL, 
  INSTITUTE      VARCHAR2 (250)  NOT NULL, 
  DISCIPLINE     VARCHAR2 (250), 
  QUAL_DEGREE    NUMBER (2), 
  QUAL_CLASS     NUMBER (2), 
  CREATED_USER   NUMBER (5), 
  CREATED_DATE   DATE, 
  MODIFIED_USER  NUMBER (5), 
  MODIFIED_DATE  DATE, 
  CER_YEAR       NUMBER (5), 
  CONSTRAINT EMP_EDUCATION__PK
  PRIMARY KEY ( EMPLOYEE_NO, EDU_SERIAL ) ) ; 

ALTER TABLE EMPLOYEE_EDUCATION ADD  CONSTRAINT EMP_EDUCATION_FK1
 FOREIGN KEY (EMPLOYEE_NO) 
  REFERENCES PETRO.EMPLOYEES (EMPLOYEE_NO) ;

CREATE TABLE EMPLOYEE_EXPERIENCE ( 
  EMPLOYEE_NO         NUMBER (8)    NOT NULL, 
  EXP_SERIAL          NUMBER (2)    NOT NULL, 
  LOCATION            VARCHAR2 (80)  NOT NULL, 
  POSITION            VARCHAR2 (80), 
  START_DATE          DATE, 
  END_DATE            DATE, 
  REASON_FOR_LEAVING  VARCHAR2 (500), 
  CREATED_USER        NUMBER (5), 
  CREATED_DATE        DATE, 
  MODIFIED_USER       NUMBER (5), 
  MODIFIED_DATE       DATE, 
  CONSTRAINT EMP_EXPERIENCE_PK
  PRIMARY KEY ( EMPLOYEE_NO, EXP_SERIAL ) ) ; 

ALTER TABLE EMPLOYEE_EXPERIENCE ADD  CONSTRAINT EMP_EXPERIENCE_FK
 FOREIGN KEY (EMPLOYEE_NO) 
  REFERENCES PETRO.EMPLOYEES (EMPLOYEE_NO) ;

CREATE TABLE EMPLOYEE_TRAINING ( 
  EMPLOYEE_NO      NUMBER (8)    NOT NULL, 
  TRAINING_SERIAL  NUMBER (2)    NOT NULL, 
  COURSE_TITLE     VARCHAR2 (128)  NOT NULL, 
  MAJOR            VARCHAR2 (240), 
  START_DATE       DATE, 
  END_DATE         DATE, 
  INSTITUTE        VARCHAR2 (250), 
  LOCATION         VARCHAR2 (250), 
  CURRENCY_NO      NUMBER (2), 
  COST             NUMBER (12,2), 
  CREATED_USER     NUMBER (5), 
  CREATED_DATE     DATE, 
  MODIFIED_USER    NUMBER (5), 
  MODIFIED_DATE    DATE, 
  CONSTRAINT EMP_TRAINING_PK
  PRIMARY KEY ( EMPLOYEE_NO, TRAINING_SERIAL ) ) ; 

ALTER TABLE EMPLOYEE_TRAINING ADD  CONSTRAINT EMP_TRAINING_FK
 FOREIGN KEY (EMPLOYEE_NO) 
  REFERENCES PETRO.EMPLOYEES (EMPLOYEE_NO) ;
  
 
  
  CREATE TABLE EMPLOYEE_MASTER_SNAPSHOT ( 
  ID                       NUMBER (9)    NOT NULL, 
  TR_DATE                  DATE, 
  OLD_RELEGIOUS            VARCHAR2 (20), 
  NEW_RELEGIOUS            VARCHAR2 (20), 
  OLD_GROSS_SALARY         NUMBER (14,2), 
  NEW_GROSS_SALARY         NUMBER (14,2), 
  OLD_CURRENCY_NO          NUMBER (3), 
  NEW_CURRENCY_NO          NUMBER (3), 
  OLD_SAL_RATE             NUMBER (6,2), 
  NEW_SAL_RATE             NUMBER (6,2), 
  OLD_MERIT_RATE           NUMBER (4,2), 
  NEW_MERIT_RATE           NUMBER (4,2), 
  OLD_TAX_FREE             NUMBER (1), 
  NEW_TAX_FREE             NUMBER (1), 
  OLD_SOCIAL_FREE          NUMBER (1), 
  NEW_SOCIAL_FREE          NUMBER (1), 
  OLD_EMAIL                VARCHAR2 (50), 
  NEW_EMAIL                VARCHAR2 (50), 
  OLD_EMPLOYEE_STATUS      NUMBER (1), 
  NEW_EMPLOYEE_STATUS      NUMBER (1), 
  REMARK                   VARCHAR2 (100), 
  CREATED_USER             NUMBER (5), 
  CREATED_DATE             DATE, 
  MODIFIED_USER            NUMBER (5), 
  MODIFIED_DATE            DATE, 
  EMP_ID                   NUMBER (8), 
  OLD_PREVIOUS_EXPERIENCE  NUMBER (2), 
  NEW_PREVIOUS_EXPERIENCE  NUMBER (2), 
  OLD_HIRE_TYPE            NUMBER (2), 
  NEW_HIRE_TYPE            NUMBER (2), 
  OLD_GRADES_GRADE_NO      NUMBER (3), 
  NEW_GRADES_GRADE_NO      NUMBER (3), 
  OLD_ON_PAYROLL           NUMBER (1), 
  NEW_ON_PAYROLL           NUMBER (1), 
  OLD_ADJ_SAL              NUMBER (12,2), 
  NEW_ADJ_SAL              NUMBER (12,2), 
  SALARY_INC               NUMBER (1), 
  ACTUAL_DATE              DATE, 
  MAN_APPROVAL             NUMBER (10), 
  SNRMAN_APPROVAL          NUMBER (10), 
  SNRMAN_APPROVAL_DATE     DATE, 
  MAN_APPROVAL_DATE        DATE, 
  APPROVAL_FLAG            NUMBER (2), 
  AREA_OF_CHANGE           VARCHAR2 (2000), 
  OLD_EMPLOYMENT_PLACE     VARCHAR2 (2), 
  NEW_EMPLOYMENT_PLACE     VARCHAR2 (2), 
  CONSTRAINT EMPLOYEE_MASTER_SNAPSHOT_PK
  PRIMARY KEY ( ID ) ) ; 

ALTER TABLE EMPLOYEE_MASTER_SNAPSHOT ADD  CONSTRAINT EMPLOYEE_MASTER_SNAPSHOT_R01
 FOREIGN KEY (EMP_ID) 
  REFERENCES PETRO.EMPLOYEES (EMPLOYEE_NO) ;
  
  
CREATE TABLE FORM_LEAVES_APPLICATION ( 
  LEAVE_FORM__NO          NUMBER        NOT NULL, 
  FORM_DATE               DATE          NOT NULL, 
  EMPLOYEE_NO             NUMBER (8)    NOT NULL, 
  GRADE_NO                NUMBER (3), 
  LS_LEAVE_TYPE           NUMBER (2), 
  LEAVE_YEAR              DATE, 
  NUMBER_OF_DAYS          NUMBER (3), 
  START_DATE              DATE, 
  END_DATE                DATE, 
  LT_COMMENT              VARCHAR2 (500), 
  LS_SETTING_NO           NUMBER, 
  CONTACT_WHILE_ON_LEAVE  VARCHAR2 (100), 
  FORM_STATUS             NUMBER (2), 
  FORM_STATUS_REASON      VARCHAR2 (1000), 
  STATUS_DATE             DATE, 
  OLD_DAYS                NUMBER (6), 
  UPDATE_USER             NUMBER (8), 
  HR_ENDORSE              NUMBER (8), 
  DOCTOR_APPROVAL         NUMBER (8), 
  APPROVED_BY             NUMBER (8), 
  APPROVED_BY_CAT         NUMBER (2), 
  SENDTOHR                NUMBER (1), 
  ACTINING_MNGR_ID        NUMBER (9), 
  ENDORSE_FLAG            NUMBER (1)    DEFAULT 0, 
  ENDORSE_BY              NUMBER (8), 
  HR_ENDORSE_DATE         DATE, 
  ENDORSE_DATE            DATE, 
  APPROVE_DATE            DATE, 
  UPDATE_DATE             DATE, 
  LEAVE_ALLOWANCE         VARCHAR2 (1), 
  ALLOWANCE_AMOUNT        VARCHAR2 (1), 
  ALERT_DATE              DATE, 
  PAYROLL_RESTART_DATE    DATE, 
  GM_FLAG                 NUMBER, 
  ENTITLEMENT_FLAG        NUMBER (2), 
  SERVICE_YEARS           NUMBER ) ; 

COMMENT ON COLUMN FORM_LEAVES_APPLICATION.ENDORSE_FLAG IS '''1 HR ENDORSE,2 HR UNENDORE,3 SUPERVIOR ENDORSE,4 SUPERVISOR UNENDORSE''';
COMMENT ON COLUMN FORM_LEAVES_APPLICATION.FORM_STATUS IS '''0 PENDING , 1 SENT TO HR, 2 HR ENDORSE,HR UNENDORSE,4 SUPERVISOR ENDORSE,5 SUPERVISOR UNENDORSE,6 MANAGER APPROVE,7 MANAGER DISAPPROVE''    
10 endorsements ,   
'''''''''';;;;;'''''''''';;;;;'''''''''';;;;'''''''''''';;;;;'''''''''';;;;;'''''''''';;;;;'''''''''';;;'''''''''';;;;'''''''''''''';;;;;'''''''';;;;;'''''''';;;;;'''''''';;;;;'''''''''';;;;;'''''''''';;;;;;'''''''''''';;;;;;;'''''''''';;;;;;'''''''''''';'''''''';'''''''''''''''''''';;;;;;'''''''''''''''';;;;;'''''''''''''''';;;;'''''''''''''''';;;;;;;;;'''''''''''''''''';;;;;;;;'''''''''''''''';;;;;'''''''''''';;;;;'''''''''''';;;''''';


  
  

CREATE TABLE LKP_LEAVE_TYPES ( 
  LEAVE_TYPE_NO    NUMBER (2)    NOT NULL, 
  LEAVE_TYPE_NAME  VARCHAR2 (80)  NOT NULL, 
  CREATED_USER     NUMBER, 
  CREATED_DATE     DATE, 
  MODIFIED_USER    NUMBER, 
  MODIFIED_DATE    DATE, 
  LEAVE_CYCLE      NUMBER (1)    DEFAULT 0, 
  CONSTRAINT LT1_PK
  PRIMARY KEY ( LEAVE_TYPE_NO ) ) ; 

COMMENT ON COLUMN LKP_LEAVE_TYPES.LEAVE_CYCLE IS '0 every year, 1 once';




